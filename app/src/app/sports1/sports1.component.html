<div class='cbooks'>
    <div>
    <pre>
    crud of sports avec pagination
    filtre de recheche 
    utilisation de behaviorSubject dans le service 
    m√©thodes get, post, put, delete ...
    filtre de recherches
    pipe async
    </pre>
    </div>
    <div *ngIf="(datas$ | async) ;let list">
    <pre>
    total items: {{ list.total }}
    nombre pages: {{ page }} / {{list.pages}}    
    items / page: {{list.datas.length}}
    </pre>
    </div>

    <div>
        <button mat-flat-button color="primary" [disabled]="page == 1" (click)="toPage(1)"      ><< First</button> &nbsp; 
        <button mat-flat-button color="primary" [disabled]="page == 1" (click)="toPage(page-1)"      >< Prec</button> &nbsp;
        <button mat-flat-button color="primary" [disabled]="page == nbpages" (click)="toPage(+page+1)"   >Next ></button>&nbsp; 
        <button mat-flat-button color="primary" [disabled]="page == nbpages"  (click)="toPage(nbpages)"   >Last >></button> 
      </div>


    <mat-form-field class="cform-field">
        <mat-label>rechercher...</mat-label>
        <input matInput type="text" [formControl]="search">
      </mat-form-field>
      &nbsp;&nbsp;
 

    <mat-button-toggle  (click)="post()">Add</mat-button-toggle> &nbsp; 

    <div *ngFor="let item of (datas$ | async)?.datas " >
      
   
      <mat-card class="mat-elevation-z5 style-card">
        <mat-card-header>
        
          <div mat-card-avatar >
            <button mat-mini-fab color="accent" aria-label="Example icon button with a delete icon">
              <mat-icon *ngIf=" item.discipline == 'SWIM'">pool</mat-icon>
              <mat-icon *ngIf=" item.discipline == 'BIKE'">directions_bike</mat-icon>
              <mat-icon *ngIf=" item.discipline == 'RUNNING'">run_circle</mat-icon>
            </button>
          </div>
          <mat-card-title> {{ item.firstname  }} {{ item.lastname  }} </mat-card-title>
          <mat-card-subtitle>{{ item.discipline }}</mat-card-subtitle>
          <mat-card-subtitle>{{ item.day | date: 'medium' }}</mat-card-subtitle>
          <button mat-mini-fab color="primary" aria-label="Example icon button with a delete icon">
            <mat-icon>edit</mat-icon>
          </button>&nbsp;&nbsp;
          <button mat-mini-fab color="warn" aria-label="Example icon button with a delete icon">
            <mat-icon>delete</mat-icon>
          </button>
      
        </mat-card-header>
        </mat-card>
    
        

        
    </div>
    </div>

